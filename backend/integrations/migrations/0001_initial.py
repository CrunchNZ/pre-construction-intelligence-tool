# Generated by Django 5.2.5 on 2025-08-19 04:03

import django.core.validators
import django.db.models.deletion
import uuid
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='IntegrationSystem',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=100, unique=True)),
                ('system_type', models.CharField(choices=[('procurepro', 'ProcurePro'), ('procore', 'Procore'), ('jobpac', 'Jobpac'), ('greentree', 'Greentree'), ('bim', 'BIM')], max_length=50)),
                ('status', models.CharField(choices=[('active', 'Active'), ('inactive', 'Inactive'), ('error', 'Error'), ('maintenance', 'Maintenance')], default='active', max_length=20)),
                ('base_url', models.URLField(max_length=500)),
                ('api_version', models.CharField(default='v1', max_length=20)),
                ('credentials', models.JSONField(blank=True, default=dict)),
                ('last_connection', models.DateTimeField(blank=True, null=True)),
                ('connection_status', models.CharField(default='unknown', max_length=20)),
                ('error_message', models.TextField(blank=True)),
                ('avg_response_time', models.FloatField(default=0.0)),
                ('total_requests', models.PositiveIntegerField(default=0)),
                ('failed_requests', models.PositiveIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Integration System',
                'verbose_name_plural': 'Integration Systems',
                'db_table': 'integration_systems',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='ProcureProSupplier',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('procurepro_id', models.CharField(db_index=True, max_length=100, unique=True)),
                ('procurepro_code', models.CharField(blank=True, max_length=50, null=True)),
                ('name', models.CharField(max_length=255)),
                ('legal_name', models.CharField(blank=True, max_length=255, null=True)),
                ('trading_name', models.CharField(blank=True, max_length=255, null=True)),
                ('email', models.EmailField(blank=True, max_length=254, null=True)),
                ('phone', models.CharField(blank=True, max_length=50, null=True)),
                ('website', models.URLField(blank=True, null=True)),
                ('address_line1', models.CharField(blank=True, max_length=255, null=True)),
                ('address_line2', models.CharField(blank=True, max_length=255, null=True)),
                ('city', models.CharField(blank=True, max_length=100, null=True)),
                ('state', models.CharField(blank=True, max_length=100, null=True)),
                ('postal_code', models.CharField(blank=True, max_length=20, null=True)),
                ('country', models.CharField(blank=True, max_length=100, null=True)),
                ('abn', models.CharField(blank=True, max_length=50, null=True)),
                ('acn', models.CharField(blank=True, max_length=50, null=True)),
                ('tax_id', models.CharField(blank=True, max_length=50, null=True)),
                ('supplier_type', models.CharField(blank=True, max_length=100, null=True)),
                ('category', models.CharField(blank=True, max_length=100, null=True)),
                ('subcategory', models.CharField(blank=True, max_length=100, null=True)),
                ('status', models.CharField(default='active', max_length=50)),
                ('rating', models.DecimalField(blank=True, decimal_places=2, max_digits=3, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.00')), django.core.validators.MaxValueValidator(Decimal('5.00'))])),
                ('credit_limit', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('payment_terms', models.CharField(blank=True, max_length=100, null=True)),
                ('last_synced', models.DateTimeField(auto_now=True)),
                ('sync_status', models.CharField(default='success', max_length=20)),
                ('sync_errors', models.TextField(blank=True, null=True)),
                ('raw_data', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'ProcurePro Supplier',
                'verbose_name_plural': 'ProcurePro Suppliers',
                'db_table': 'procurepro_supplier',
                'indexes': [models.Index(fields=['procurepro_id'], name='procurepro__procure_95b713_idx'), models.Index(fields=['name'], name='procurepro__name_2be694_idx'), models.Index(fields=['status'], name='procurepro__status_452a93_idx'), models.Index(fields=['category'], name='procurepro__categor_a0762f_idx'), models.Index(fields=['last_synced'], name='procurepro__last_sy_4d820b_idx')],
            },
        ),
        migrations.CreateModel(
            name='ProcureProPurchaseOrder',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('procurepro_id', models.CharField(db_index=True, max_length=100, unique=True)),
                ('po_number', models.CharField(db_index=True, max_length=100)),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=15)),
                ('currency', models.CharField(default='AUD', max_length=3)),
                ('status', models.CharField(default='draft', max_length=50)),
                ('order_date', models.DateField()),
                ('expected_delivery_date', models.DateField(blank=True, null=True)),
                ('actual_delivery_date', models.DateField(blank=True, null=True)),
                ('approved_by', models.CharField(blank=True, max_length=100, null=True)),
                ('approved_date', models.DateTimeField(blank=True, null=True)),
                ('last_synced', models.DateTimeField(auto_now=True)),
                ('sync_status', models.CharField(default='success', max_length=20)),
                ('sync_errors', models.TextField(blank=True, null=True)),
                ('raw_data', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('supplier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='purchase_orders', to='integrations.procureprosupplier')),
            ],
            options={
                'verbose_name': 'ProcurePro Purchase Order',
                'verbose_name_plural': 'ProcurePro Purchase Orders',
                'db_table': 'procurepro_purchase_order',
            },
        ),
        migrations.CreateModel(
            name='ProcureProInvoice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('procurepro_id', models.CharField(db_index=True, max_length=100, unique=True)),
                ('invoice_number', models.CharField(db_index=True, max_length=100)),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('subtotal', models.DecimalField(decimal_places=2, max_digits=15)),
                ('tax_amount', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=15)),
                ('currency', models.CharField(default='AUD', max_length=3)),
                ('status', models.CharField(default='pending', max_length=50)),
                ('invoice_date', models.DateField()),
                ('due_date', models.DateField()),
                ('paid_date', models.DateField(blank=True, null=True)),
                ('payment_method', models.CharField(blank=True, max_length=100, null=True)),
                ('payment_reference', models.CharField(blank=True, max_length=100, null=True)),
                ('last_synced', models.DateTimeField(auto_now=True)),
                ('sync_status', models.CharField(default='success', max_length=20)),
                ('sync_errors', models.TextField(blank=True, null=True)),
                ('raw_data', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('purchase_order', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='invoices', to='integrations.procurepropurchaseorder')),
                ('supplier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='invoices', to='integrations.procureprosupplier')),
            ],
            options={
                'verbose_name': 'ProcurePro Invoice',
                'verbose_name_plural': 'ProcurePro Invoices',
                'db_table': 'procurepro_invoice',
            },
        ),
        migrations.CreateModel(
            name='ProcureProContract',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('procurepro_id', models.CharField(db_index=True, max_length=100, unique=True)),
                ('contract_number', models.CharField(db_index=True, max_length=100)),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('contract_type', models.CharField(blank=True, max_length=100, null=True)),
                ('contract_value', models.DecimalField(decimal_places=2, max_digits=15)),
                ('currency', models.CharField(default='AUD', max_length=3)),
                ('status', models.CharField(default='active', max_length=50)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('renewal_date', models.DateField(blank=True, null=True)),
                ('payment_terms', models.CharField(blank=True, max_length=100, null=True)),
                ('termination_clause', models.TextField(blank=True, null=True)),
                ('last_synced', models.DateTimeField(auto_now=True)),
                ('sync_status', models.CharField(default='success', max_length=20)),
                ('sync_errors', models.TextField(blank=True, null=True)),
                ('raw_data', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('supplier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='contracts', to='integrations.procureprosupplier')),
            ],
            options={
                'verbose_name': 'ProcurePro Contract',
                'verbose_name_plural': 'ProcurePro Contracts',
                'db_table': 'procurepro_contract',
            },
        ),
        migrations.CreateModel(
            name='ProcureProSyncLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sync_type', models.CharField(choices=[('suppliers', 'Suppliers'), ('purchase_orders', 'Purchase Orders'), ('invoices', 'Invoices'), ('contracts', 'Contracts'), ('full', 'Full Sync')], max_length=20)),
                ('status', models.CharField(choices=[('started', 'Started'), ('success', 'Success'), ('partial', 'Partial Success'), ('failed', 'Failed')], default='started', max_length=20)),
                ('started_at', models.DateTimeField(auto_now_add=True)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('duration_seconds', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('records_processed', models.IntegerField(default=0)),
                ('records_created', models.IntegerField(default=0)),
                ('records_updated', models.IntegerField(default=0)),
                ('records_failed', models.IntegerField(default=0)),
                ('error_message', models.TextField(blank=True, null=True)),
                ('error_details', models.JSONField(blank=True, default=dict)),
                ('initiated_by', models.CharField(blank=True, max_length=100, null=True)),
                ('api_calls_made', models.IntegerField(default=0)),
            ],
            options={
                'verbose_name': 'ProcurePro Sync Log',
                'verbose_name_plural': 'ProcurePro Sync Logs',
                'db_table': 'procurepro_sync_log',
                'ordering': ['-started_at'],
                'indexes': [models.Index(fields=['sync_type'], name='procurepro__sync_ty_7ffb72_idx'), models.Index(fields=['status'], name='procurepro__status_1cb420_idx'), models.Index(fields=['started_at'], name='procurepro__started_6e7580_idx')],
            },
        ),
        migrations.CreateModel(
            name='ProjectSystemMapping',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('external_project_id', models.CharField(max_length=100)),
                ('external_project_number', models.CharField(blank=True, max_length=100)),
                ('external_project_name', models.CharField(blank=True, max_length=255)),
                ('last_sync', models.DateTimeField(blank=True, null=True)),
                ('sync_status', models.CharField(default='pending', max_length=20)),
                ('sync_error', models.TextField(blank=True)),
                ('field_mappings', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('system', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='project_mappings', to='integrations.integrationsystem')),
            ],
            options={
                'verbose_name': 'Project System Mapping',
                'verbose_name_plural': 'Project System Mappings',
                'db_table': 'project_system_mappings',
            },
        ),
        migrations.CreateModel(
            name='UnifiedProject',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('project_number', models.CharField(max_length=100, unique=True)),
                ('status', models.CharField(choices=[('planning', 'Planning'), ('pre_construction', 'Pre-Construction'), ('construction', 'Construction'), ('post_construction', 'Post-Construction'), ('completed', 'Completed'), ('on_hold', 'On Hold'), ('cancelled', 'Cancelled')], default='planning', max_length=20)),
                ('project_type', models.CharField(choices=[('commercial', 'Commercial'), ('residential', 'Residential'), ('industrial', 'Industrial'), ('infrastructure', 'Infrastructure'), ('healthcare', 'Healthcare'), ('education', 'Education'), ('retail', 'Retail'), ('other', 'Other')], default='commercial', max_length=20)),
                ('address', models.TextField(blank=True)),
                ('city', models.CharField(blank=True, max_length=100)),
                ('state', models.CharField(blank=True, max_length=100)),
                ('country', models.CharField(blank=True, max_length=100)),
                ('postal_code', models.CharField(blank=True, max_length=20)),
                ('start_date', models.DateField(blank=True, null=True)),
                ('end_date', models.DateField(blank=True, null=True)),
                ('estimated_duration_days', models.PositiveIntegerField(blank=True, null=True)),
                ('budget', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('actual_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('currency', models.CharField(default='USD', max_length=3)),
                ('client', models.CharField(blank=True, max_length=255)),
                ('architect', models.CharField(blank=True, max_length=255)),
                ('contractor', models.CharField(blank=True, max_length=255)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='integrations_created_projects', to=settings.AUTH_USER_MODEL)),
                ('integration_systems', models.ManyToManyField(through='integrations.ProjectSystemMapping', to='integrations.integrationsystem')),
                ('project_manager', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='managed_projects', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Unified Project',
                'verbose_name_plural': 'Unified Projects',
                'db_table': 'unified_projects',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='projectsystemmapping',
            name='project',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='system_mappings', to='integrations.unifiedproject'),
        ),
        migrations.CreateModel(
            name='ProjectSchedule',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('total_duration_days', models.PositiveIntegerField()),
                ('critical_path_length', models.PositiveIntegerField(blank=True, null=True)),
                ('completion_percentage', models.DecimalField(decimal_places=2, default=0.0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('external_schedule_id', models.CharField(max_length=100)),
                ('external_metadata', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('system_mapping', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='schedules', to='integrations.projectsystemmapping')),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='schedules', to='integrations.unifiedproject')),
            ],
            options={
                'verbose_name': 'Project Schedule',
                'verbose_name_plural': 'Project Schedules',
                'db_table': 'project_schedules',
                'ordering': ['start_date'],
            },
        ),
        migrations.CreateModel(
            name='ProjectRFI',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('rfi_number', models.CharField(max_length=100, unique=True)),
                ('subject', models.CharField(max_length=255)),
                ('question', models.TextField()),
                ('answer', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('open', 'Open'), ('answered', 'Answered'), ('closed', 'Closed'), ('pending_review', 'Pending Review')], default='open', max_length=20)),
                ('priority', models.CharField(choices=[('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('critical', 'Critical')], default='medium', max_length=20)),
                ('date_submitted', models.DateField()),
                ('date_answered', models.DateField(blank=True, null=True)),
                ('date_closed', models.DateField(blank=True, null=True)),
                ('external_rfi_id', models.CharField(max_length=100)),
                ('external_metadata', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('answered_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='answered_rfis', to=settings.AUTH_USER_MODEL)),
                ('submitted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='submitted_rfis', to=settings.AUTH_USER_MODEL)),
                ('system_mapping', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rfis', to='integrations.projectsystemmapping')),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rfis', to='integrations.unifiedproject')),
            ],
            options={
                'verbose_name': 'Project RFI',
                'verbose_name_plural': 'Project RFIs',
                'db_table': 'project_rfis',
                'ordering': ['-date_submitted'],
            },
        ),
        migrations.CreateModel(
            name='ProjectFinancial',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('financial_type', models.CharField(choices=[('budget', 'Budget'), ('actual', 'Actual'), ('forecast', 'Forecast'), ('commitment', 'Commitment')], max_length=20)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=15)),
                ('currency', models.CharField(default='USD', max_length=3)),
                ('labor_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('material_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('equipment_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('subcontractor_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('overhead_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('effective_date', models.DateField()),
                ('period_start', models.DateField(blank=True, null=True)),
                ('period_end', models.DateField(blank=True, null=True)),
                ('external_financial_id', models.CharField(max_length=100)),
                ('external_metadata', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('system_mapping', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='financials', to='integrations.projectsystemmapping')),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='financials', to='integrations.unifiedproject')),
            ],
            options={
                'verbose_name': 'Project Financial',
                'verbose_name_plural': 'Project Financials',
                'db_table': 'project_financials',
                'ordering': ['-effective_date'],
            },
        ),
        migrations.CreateModel(
            name='ProjectDocument',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('document_type', models.CharField(choices=[('drawing', 'Drawing'), ('specification', 'Specification'), ('contract', 'Contract'), ('permit', 'Permit'), ('report', 'Report'), ('photo', 'Photo'), ('other', 'Other')], default='other', max_length=20)),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('review', 'Under Review'), ('approved', 'Approved'), ('rejected', 'Rejected'), ('superseded', 'Superseded')], default='draft', max_length=20)),
                ('file_name', models.CharField(max_length=255)),
                ('file_size', models.PositiveIntegerField(blank=True, null=True)),
                ('file_type', models.CharField(blank=True, max_length=100)),
                ('file_url', models.URLField(blank=True, max_length=500)),
                ('version', models.CharField(default='1.0', max_length=20)),
                ('revision', models.CharField(blank=True, max_length=20)),
                ('external_document_id', models.CharField(max_length=100)),
                ('external_metadata', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('system_mapping', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='documents', to='integrations.projectsystemmapping')),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='documents', to='integrations.unifiedproject')),
            ],
            options={
                'verbose_name': 'Project Document',
                'verbose_name_plural': 'Project Documents',
                'db_table': 'project_documents',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ProjectChangeOrder',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('change_order_number', models.CharField(max_length=100, unique=True)),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField()),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('approved', 'Approved'), ('rejected', 'Rejected'), ('in_progress', 'In Progress'), ('completed', 'Completed')], default='pending', max_length=20)),
                ('original_contract_value', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('change_order_value', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('new_total_value', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('original_completion_date', models.DateField(blank=True, null=True)),
                ('new_completion_date', models.DateField(blank=True, null=True)),
                ('schedule_impact_days', models.IntegerField(blank=True, null=True)),
                ('external_change_order_id', models.CharField(max_length=100)),
                ('external_metadata', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('system_mapping', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='change_orders', to='integrations.projectsystemmapping')),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='change_orders', to='integrations.unifiedproject')),
            ],
            options={
                'verbose_name': 'Project Change Order',
                'verbose_name_plural': 'Project Change Orders',
                'db_table': 'project_change_orders',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddIndex(
            model_name='integrationsystem',
            index=models.Index(fields=['system_type', 'status'], name='integration_system__c34610_idx'),
        ),
        migrations.AddIndex(
            model_name='integrationsystem',
            index=models.Index(fields=['status', 'last_connection'], name='integration_status_ed0767_idx'),
        ),
        migrations.AddIndex(
            model_name='procurepropurchaseorder',
            index=models.Index(fields=['procurepro_id'], name='procurepro__procure_8cb7c1_idx'),
        ),
        migrations.AddIndex(
            model_name='procurepropurchaseorder',
            index=models.Index(fields=['po_number'], name='procurepro__po_numb_f5a383_idx'),
        ),
        migrations.AddIndex(
            model_name='procurepropurchaseorder',
            index=models.Index(fields=['status'], name='procurepro__status_4f9607_idx'),
        ),
        migrations.AddIndex(
            model_name='procurepropurchaseorder',
            index=models.Index(fields=['order_date'], name='procurepro__order_d_cb4434_idx'),
        ),
        migrations.AddIndex(
            model_name='procurepropurchaseorder',
            index=models.Index(fields=['supplier'], name='procurepro__supplie_f26961_idx'),
        ),
        migrations.AddIndex(
            model_name='procureproinvoice',
            index=models.Index(fields=['procurepro_id'], name='procurepro__procure_57b3e1_idx'),
        ),
        migrations.AddIndex(
            model_name='procureproinvoice',
            index=models.Index(fields=['invoice_number'], name='procurepro__invoice_ff2a99_idx'),
        ),
        migrations.AddIndex(
            model_name='procureproinvoice',
            index=models.Index(fields=['status'], name='procurepro__status_1e206a_idx'),
        ),
        migrations.AddIndex(
            model_name='procureproinvoice',
            index=models.Index(fields=['invoice_date'], name='procurepro__invoice_0889ca_idx'),
        ),
        migrations.AddIndex(
            model_name='procureproinvoice',
            index=models.Index(fields=['due_date'], name='procurepro__due_dat_b3c866_idx'),
        ),
        migrations.AddIndex(
            model_name='procureproinvoice',
            index=models.Index(fields=['supplier'], name='procurepro__supplie_b1eafa_idx'),
        ),
        migrations.AddIndex(
            model_name='procureprocontract',
            index=models.Index(fields=['procurepro_id'], name='procurepro__procure_b9e030_idx'),
        ),
        migrations.AddIndex(
            model_name='procureprocontract',
            index=models.Index(fields=['contract_number'], name='procurepro__contrac_62c255_idx'),
        ),
        migrations.AddIndex(
            model_name='procureprocontract',
            index=models.Index(fields=['status'], name='procurepro__status_12c84c_idx'),
        ),
        migrations.AddIndex(
            model_name='procureprocontract',
            index=models.Index(fields=['start_date'], name='procurepro__start_d_460838_idx'),
        ),
        migrations.AddIndex(
            model_name='procureprocontract',
            index=models.Index(fields=['end_date'], name='procurepro__end_dat_fc3809_idx'),
        ),
        migrations.AddIndex(
            model_name='procureprocontract',
            index=models.Index(fields=['supplier'], name='procurepro__supplie_186380_idx'),
        ),
        migrations.AddIndex(
            model_name='unifiedproject',
            index=models.Index(fields=['status', 'project_type'], name='unified_pro_status_f1ec62_idx'),
        ),
        migrations.AddIndex(
            model_name='unifiedproject',
            index=models.Index(fields=['start_date', 'end_date'], name='unified_pro_start_d_9f752c_idx'),
        ),
        migrations.AddIndex(
            model_name='unifiedproject',
            index=models.Index(fields=['project_number'], name='unified_pro_project_1437c5_idx'),
        ),
        migrations.AddIndex(
            model_name='unifiedproject',
            index=models.Index(fields=['city', 'state'], name='unified_pro_city_4ee44e_idx'),
        ),
        migrations.AddIndex(
            model_name='projectsystemmapping',
            index=models.Index(fields=['system', 'sync_status'], name='project_sys_system__c661f8_idx'),
        ),
        migrations.AddIndex(
            model_name='projectsystemmapping',
            index=models.Index(fields=['last_sync', 'sync_status'], name='project_sys_last_sy_7b9ea8_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='projectsystemmapping',
            unique_together={('project', 'system'), ('system', 'external_project_id')},
        ),
        migrations.AddIndex(
            model_name='projectschedule',
            index=models.Index(fields=['project', 'start_date'], name='project_sch_project_4e4791_idx'),
        ),
        migrations.AddIndex(
            model_name='projectschedule',
            index=models.Index(fields=['completion_percentage'], name='project_sch_complet_a47cd7_idx'),
        ),
        migrations.AddIndex(
            model_name='projectrfi',
            index=models.Index(fields=['project', 'status'], name='project_rfi_project_d27aa2_idx'),
        ),
        migrations.AddIndex(
            model_name='projectrfi',
            index=models.Index(fields=['rfi_number'], name='project_rfi_rfi_num_c489fe_idx'),
        ),
        migrations.AddIndex(
            model_name='projectrfi',
            index=models.Index(fields=['priority', 'status'], name='project_rfi_priorit_561d11_idx'),
        ),
        migrations.AddIndex(
            model_name='projectfinancial',
            index=models.Index(fields=['project', 'financial_type'], name='project_fin_project_7c723b_idx'),
        ),
        migrations.AddIndex(
            model_name='projectfinancial',
            index=models.Index(fields=['effective_date', 'financial_type'], name='project_fin_effecti_7df580_idx'),
        ),
        migrations.AddIndex(
            model_name='projectdocument',
            index=models.Index(fields=['project', 'document_type'], name='project_doc_project_e8feba_idx'),
        ),
        migrations.AddIndex(
            model_name='projectdocument',
            index=models.Index(fields=['status', 'document_type'], name='project_doc_status_5afc28_idx'),
        ),
        migrations.AddIndex(
            model_name='projectdocument',
            index=models.Index(fields=['external_document_id'], name='project_doc_externa_13ccea_idx'),
        ),
        migrations.AddIndex(
            model_name='projectchangeorder',
            index=models.Index(fields=['project', 'status'], name='project_cha_project_d80cfc_idx'),
        ),
        migrations.AddIndex(
            model_name='projectchangeorder',
            index=models.Index(fields=['change_order_number'], name='project_cha_change__aeebbc_idx'),
        ),
    ]
